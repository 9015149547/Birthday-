<!DOCTYPEhtml>
<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sanding you birthday smiles üíñ</title>

<style>
body{
margin:0;
overflow:hidden;
font-family:Arial, sans-serif;
color:white;
text-align:center;
background:black;
}

/* üåå Galaxy Background */
body::before{
content:"";
position:fixed;
width:200%;
height:200%;
background:radial-gradient(white 1px, transparent 1px);
background-size:50px 50px;
animation:stars 60s linear infinite;
opacity:0.3;
}

@keyframes stars{
from{transform:translateY(0);}
to{transform:translateY(-1000px);}
}

/* Intro */
#start{
position:absolute;
width:100%;
top:40%;
z-index:2;
}

button{
padding:15px 35px;
font-size:20px;
border:none;
border-radius:40px;
background:#ff4da6;
color:white;
cursor:pointer;
box-shadow:0 0 20px #ff4da6;
}

/* Cake */
.cake{
position:absolute;
left:50%;
top:55%;
transform:translate(-50%,-50%) rotateX(20deg);
width:220px;
height:150px;
}

.layer{
position:absolute;
width:100%;
height:50px;
border-radius:20px;
box-shadow:0 10px 20px rgba(0,0,0,0.5);
}

.layer:nth-child(1){top:0;background:#ff85a2;}
.layer:nth-child(2){top:50px;background:#ff6f91;}
.layer:nth-child(3){top:100px;background:#ff4d88;}

.candle{
position:absolute;
width:12px;
height:40px;
background:white;
top:-40px;
}

.flame{
width:18px;
height:25px;
background:orange;
border-radius:50%;
position:absolute;
top:-20px;
left:-3px;
animation:flicker 0.3s infinite alternate;
}

@keyframes flicker{
from{opacity:1;}
to{opacity:0.5;}
}

/* Hearts */
.heart{
position:absolute;
font-size:25px;
animation:float 6s linear infinite;
}

@keyframes float{
from{transform:translateY(100vh);}
to{transform:translateY(-10vh);}
}

/* Balloons */
.balloon{
position:absolute;
font-size:40px;
animation:float 8s linear infinite;
}

/* Teddy */
#teddy{
position:absolute;
bottom:10px;
right:20px;
font-size:70px;
animation:bounce 2s infinite;
}

@keyframes bounce{
0%,100%{transform:translateY(0);}
50%{transform:translateY(-20px);}
}

/* Firework */
.fire{
position:absolute;
width:8px;
height:8px;
background:white;
border-radius:50%;
animation:explode 1s forwards;
}

@keyframes explode{
to{transform:scale(25);opacity:0;}
}

/* Image */
#photo{
display:none;
position:absolute;
top:10%;
left:50%;
transform:translateX(-50%) scale(0);
width:260px;
border-radius:20px;
box-shadow:0 20px 40px rgba(0,0,0,0.6);
transition:1.5s;
}

/* Message */
#msg{
display:none;
position:absolute;
bottom:15%;
width:100%;
font-size:22px;
}

/* Proposal Glow */
#proposal{
display:none;
position:absolute;
bottom:5%;
width:100%;
font-size:28px;
color:#ff4da6;
text-shadow:0 0 20px #ff4da6;
animation:glow 2s infinite alternate;
}

@keyframes glow{
from{text-shadow:0 0 10px #ff4da6;}
to{text-shadow:0 0 30px #ff4da6;}
}
</style>
</head>

<body>

<div id="start">
<h1>üåå  Surprise For You üåå</h1>
<button onclick="begin()">Enter your birthday worldüíñ</button>
</div>

<img id="photo" src="yourphoto.jpg">

<div id="msg"></div>
<div id="proposal">üíç Will You Be Mine Forever? üíç</div>
<div id="teddy">üß∏</div>

<audio id="music" src="music.mp3"></audio>
<audio id="boom" src="firework.mp3"></audio>

<script>
function begin(){
document.getElementById("start").style.display="none";
createCake();
createHearts();
createBalloons();
document.getElementById("music").play();
listenBlow();
}

function createCake(){
let cake=document.createElement("div");
cake.className="cake";
cake.innerHTML=`
<div class="layer"></div>
<div class="layer"></div>
<div class="layer"></div>
<div class="candle" style="left:50px;"><div class="flame"></div></div>
<div class="candle" style="left:100px;"><div class="flame"></div></div>
<div class="candle" style="left:150px;"><div class="flame"></div></div>
`;
document.body.appendChild(cake);
}

function createHearts(){
setInterval(()=>{
let h=document.createElement("div");
h.className="heart";
h.style.left=Math.random()*100+"vw";
h.innerHTML="üíñ";
document.body.appendChild(h);
setTimeout(()=>h.remove(),6000);
},400);
}

function createBalloons(){
setInterval(()=>{
let b=document.createElement("div");
b.className="balloon";
b.style.left=Math.random()*100+"vw";
b.innerHTML="üéà";
document.body.appendChild(b);
setTimeout(()=>b.remove(),8000);
},1000);
}

function fireworks(){
for(let i=0;i<15;i++){
let f=document.createElement("div");
f.className="fire";
f.style.left=Math.random()*100+"vw";
f.style.top=Math.random()*50+"vh";
document.body.appendChild(f);
setTimeout(()=>f.remove(),1000);
}
document.getElementById("boom").play();
}

function listenBlow(){
navigator.mediaDevices.getUserMedia({audio:true})
.then(stream=>{
const ctx=new AudioContext();
const mic=ctx.createMediaStreamSource(stream);
const analyser=ctx.createAnalyser();
mic.connect(analyser);
analyser.fftSize=256;
const data=new Uint8Array(analyser.frequencyBinCount);

setInterval(()=>{
analyser.getByteFrequencyData(data);
let volume=data.reduce((a,b)=>a+b)/data.length;

if(volume>55){
document.querySelectorAll(".flame").forEach(f=>f.remove());
fireworks();
showPhoto();
showMessage();
}
},200);
});
}

function showPhoto(){
let img=document.getElementById("photo");
img.style.display="block";
setTimeout(()=>{img.style.transform="translateX(-50%) scale(1)";},100);
}

function showMessage(){
let text="üíñ Happy Birthda kaju baby  üíñ hope your day is as amazing as you and your brings endless joy celebrate like there's no tomorrow üíå ‚ú®";
let i=0;
let msg=document.getElementById("msg");
msg.style.display="block";
let interval=setInterval(()=>{
msg.innerHTML+=text.charAt(i);
i++;
if(i>=text.length){
clearInterval(interval);
document.getElementById("proposal").style.display="block";
}
},60);
}
</script>

</body>
</html>
